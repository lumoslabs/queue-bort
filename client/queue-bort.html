<head>
  <title>queue-bort</title>
</head>

<body>
  {{loginButtons align="right"}}
  {{> queues}}
</body>

<template name="queues">
  <div id="queues">
    <div class="title">{{title}}</div>
    {{#each tags}}
      {{> queueGroup}}
    {{/each}}
  </div>
</template>

<template name="queueGroup">
  <div class="queueGroup">
    <h3>{{groupName}}</h3>
    {{#each queues}}
      {{> queue}}
    {{/each}}
    <div class="newQueue">+</div>
  </div>
</template>

<template name="queue">
  <div class="queue">

    <div class="queueName">
      {{#if editing}}
        <div class="edit">
          <input class="text-input" id="queue-name-input" type="text" value="{{queueName}}" />
        </div>
      {{else}}
        <div class="display">
          <h4 class="name">{{queueName}}</h4>
        </div>
      {{/if}}
    </div>

    <div class="attrs">
      <ol>
        {{#each attrs}}
          <li>
            {{> queueAttr}}
          </li>
        {{/each}}
      </ol>
    </div>

    {{#if currentUser}}
      <div class="controls">
        <div class="delete">x</div>
        <div class="claim">{{claimText}}</div>
      </div>
    {{/if}}
  </div>
</template>

<template name="queueAttr">
  <span class="attrName">{{attrName}}: </span>
  {{#if editingAttr}}
    <input class="text-input" id="queue-name-input" type="text" value="{{attrVal}}" />
  {{else}}
    <span class="attrVal">{{attrVal}}</span>
  {{/if}}
</template>
