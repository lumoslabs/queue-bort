<head>
  <title>queue-bort</title>
</head>

<body>
  {{loginButtons align="right"}}
  {{> queues}}
</body>

<template name="queues">
  <div id="queues">
    <div class="title">{{title}}</div>
    {{#each tags}}
      {{> serverGroup}}
    {{/each}}
  </div>
</template>

<template name="serverGroup">
  <div class="serverGroup">
    <h3>{{groupName}}</h3>
    {{#each servers}}
      {{> server}}
    {{/each}}
    <div class="newServer">+</div>
  </div>
</template>

<template name="server">
  <div class="server">

    <div class="serverName">
      {{#if editing}}
        <div class="edit">
          <input class="text-input" id="server-name-input" type="text" value="{{serverName}}" />
        </div>
      {{else}}
        <div class="display">
          <h4 class="name">{{serverName}}</h4>
        </div>
      {{/if}}
    </div>

    <div class="attrs">
      <ol>
        {{#each attrs}}
          <li>
            {{> serverAttr}}
          </li>
        {{/each}}
      </ol>
    </div>

    {{#if currentUser}}
      <div class="controls">
        <div class="delete">x</div>
        <div class="claim">{{claimText}}</div>
      </div>
    {{/if}}
  </div>
</template>

<template name="serverAttr">
  <span class="attrName">{{attrName}}: </span>
  {{#if editingAttr}}
    <input class="text-input" id="server-name-input" type="text" value="{{attrVal}}" />
  {{else}}
    <span class="attrVal">{{attrVal}}</span>
  {{/if}}
</template>
